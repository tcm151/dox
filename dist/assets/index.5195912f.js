import{d as k,o as v,c as _,a as e,t as h,w as f,b as V,n as B,e as se,f as te,D as w,i as O,F as U,r as T,u as C,p as A,g as q,h as K,j as L,k as g,l as x,m as oe,q as E,s as P,v as I,x as J,y as ne,z as ie,A as ae,B as le,C as X,E as ce,G as re,H as de,I as ue}from"./vendor.73e1e843.js";const ve=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=s(a);fetch(a.href,r)}};ve();const _e=e("div",{class:"modal-background"},null,-1),me={class:"modal-content"},pe={class:"message is-danger is-medium"},he={key:0,class:"message-header"},ge={class:""},fe={key:1,class:"message-body"},$e=k({props:{showModal:Boolean,modalTitle:String,modalContent:String},emits:["toggleModal"],setup(n){return(o,s)=>(v(),_("div",{class:B(["modal",{"is-active":n.showModal}])},[_e,e("div",me,[e("div",pe,[n.modalTitle?(v(),_("div",he,[e("p",ge,h(n.modalTitle),1),e("button",{class:"delete",onClick:s[0]||(s[0]=f(i=>o.$emit("toggleModal"),["prevent"]))})])):V("",!0),n.modalContent?(v(),_("div",fe,[e("p",null,h(n.modalContent),1)])):V("",!0)])])],2))}}),be={state:{session:{user:null,authenticated:!1}},plugins:[se({storage:sessionStorage})],getters:{getSession(n){return n.session},getCurrentUser(n){return n.session.user},getCurrentUserId(n){return n.session.user?n.session.user.user_id:-1}},mutations:{login(n,o){n.session=o},logout(n){n.session.authenticated=!1}}},b=te(be),ye={class:"level level-left is-mobile"},D=k({emits:["sort"],setup(n){return(o,s)=>(v(),_("div",ye,[e("p",{class:"level-item button has-text-weight-semibold",onClick:s[0]||(s[0]=i=>o.$emit("sort","hot"))},"Hot"),e("p",{class:"level-item button has-text-weight-semibold",onClick:s[1]||(s[1]=i=>o.$emit("sort","top"))},"Top"),e("p",{class:"level-item button has-text-weight-semibold",onClick:s[2]||(s[2]=i=>o.$emit("sort","new"))},"New")]))}});var M=(n,o)=>{const s=n.__vccOpts||n;for(const[i,a]of o)s[i]=a;return s};const we={},xe={class:"box content"},ke=e("h2",null,"Rules",-1),Ce=e("ol",{class:"mx-4"},[e("li",{class:"my-1"},"Upvote things that are high quailty, topical, well formed, helpful, and provide solid discussion upon a certain topic. We do not disencentivize discussion."),e("li",{class:"my-1"},"Mark things as misleading when this are not inherently wrong, but might guide someone in the wrong direction, or stray away from the initial topics of the original discussion."),e("li",{class:"my-1"},"Downvote only if something blatantly off topic or contains hateful or discriminatory language or rhetoric. Downvotes are not for disagreements. ")],-1),Se=[ke,Ce];function Pe(n,o){return v(),_("div",xe,Se)}var Ie=M(we,[["render",Pe]]);function j(n){if(n==null)return"\u221E ago";const o=w.now(),s=w.fromISO(n),i=o.diff(s,"minutes").minutes;if(i<60)return`${i.toFixed(0)}m ago`;const a=o.diff(s,"hours").hours;if(a<24)return`${a.toFixed(0)}h ago`;const r=o.diff(s,"days").days;if(r<7)return`${r.toFixed(0)}d ago`;const d=o.diff(s,"weeks").weeks;if(d<4)return`${d.toFixed(0)}w ago`;const u=o.diff(s,"months").months;if(u<12)return`${u.toFixed(0)}m ago`}const Le=n=>(A("data-v-1235b7a0"),n=n(),q(),n),Me={key:0},Ue={class:"media-left pr-2 m-0"},Fe={class:"container"},Te=["onClick"],Oe=["onClick"],Re=["onClick"],ze=["onClick"],Ne={class:"box m-0 is-shadowless has-background-light p-2"},Ve={class:"title is-5 has-text-weight-semibold m-0"},Be={class:"level-left pt-1"},De={class:"tag mb-1 mr-1 is-primary has-text-weight-medium is-light"},Ae={class:"tag mb-1 mr-1 is-info has-text-weight-medium is-light"},qe={class:"tag mb-1 mr-1 is-light has-text-weight-medium is-link"},Ee={key:1,class:"box content m-5"},He=Le(()=>e("i",null,"There are no posts yet...",-1)),Ye=[He],Ke=k({props:{posts:null},setup(n){const o=O("toggleModal");function s(t){return t>999999?(t/1e6).toFixed(0)+"m":t>999?(t/1e3).toFixed(0)+"k":t}function i(t){if(!b.getters.getSession.authenticated)return o("You must be logged in to vote."),!1;const c=b.getters.getCurrentUserId;return t.votes.users.includes(c)?(o("You may only vote on a post once."),!1):!0}function a(t){!i(t)||(console.log("Upvoted post!"),t.votes.upvotes+=1,t.votes.users.push(b.getters.getCurrentUserId))}function r(t){!i(t)||(console.log("Post marked misleading..."),t.votes.misleading+=1,t.votes.users.push(b.getters.getCurrentUserId))}function d(t){!i(t)||(console.log("Downvoted post!"),t.votes.downvotes+=1,t.votes.users.push(b.getters.getCurrentUserId))}function u(t){F.push(`/posts/${t.post_id}`)}return(t,c)=>n.posts.length>0?(v(),_("div",Me,[(v(!0),_(U,null,T(n.posts,l=>{var p,m,$,S;return v(),_("div",{class:"media box is-clickable p-2 my-2",key:l.post_id},[e("div",Ue,[e("div",Fe,[e("p",{onClick:y=>a(l),class:"vote is-size-8 has-text-centered has-text-weight-bold has-text-primary"},h(s((p=l.votes)==null?void 0:p.upvotes)),9,Te),e("p",{onClick:y=>r(l),class:"vote is-size-6 has-text-centered has-text-weight-bold has-text-warning"},h(s((m=l.votes)==null?void 0:m.misleading)),9,Oe),e("p",{onClick:y=>d(l),class:"vote is-size-6 has-text-centered has-text-weight-bold has-text-danger"},h(s(($=l.votes)==null?void 0:$.downvotes)),9,Re)])]),e("div",{class:"media-content",onClick:y=>u(l)},[e("div",Ne,[e("p",Ve,h(l.title),1)]),e("div",Be,[e("p",De,"u/"+h((S=l.user)==null?void 0:S.username),1),e("p",Ae,h(C(j)(l.time)),1),(v(!0),_(U,null,T(l==null?void 0:l.topics,y=>(v(),_("p",qe,h(y),1))),256))])],8,ze)])}),128))])):(v(),_("div",Ee,Ye))}});var Q=M(Ke,[["__scopeId","data-v-1235b7a0"]]);const je={class:"columns p-2"},We={class:"column"},Ge={class:"level-left"},Je=["onClick"],Xe={class:"column is-4"},Qe=k({setup(n){K(async()=>{try{const l=await L.get("https://doxforeverything.herokuapp.com/posts");s.value=l.data,s.value=c(s.value,"hot"),i.value=s.value.filter(p=>p.topics.some(m=>{var $;return($=b.state.session.user)==null?void 0:$.topics.includes(m)})),i.value=c(i.value,"hot"),o.value=s.value}catch(l){console.log(l),r("Failed to load posts...","Server may be in a non-functioning state.")}});const o=g([]),s=g([]),i=g([]),a=g(""),r=O("toggleModal"),d=g("All");function u(){switch(d.value){case"All":d.value="Feed",s.value=o.value,o.value=i.value;break;case"Feed":d.value="All",i.value=o.value,o.value=s.value;break}}function t(l){a.value=l,o.value=c(o.value,l)}function c(l,p){return l.sort((m,$)=>{if(p=="new"){const S=w.fromISO(m.time),y=w.fromISO($.time);return S<y?1:-1}else if(p=="top"){const S=m.votes.upvotes-m.votes.downvotes-m.votes.misleading/2,y=$.votes.upvotes-$.votes.downvotes-$.votes.misleading/2;return S<y?1:-1}else if(p=="hot"){const S=w.now().diff(w.fromISO(m.time),"days").days,y=w.now().diff(w.fromISO($.time),"days").days,z=(m.votes.upvotes-m.votes.downvotes-m.votes.misleading/2)/(S+1),N=($.votes.upvotes-$.votes.downvotes-$.votes.misleading/2)/(y+1);return z<N?1:-1}else return 0}),l}return(l,p)=>(v(),_("div",je,[e("div",We,[e("div",Ge,[e("button",{onClick:f(u,["prevent"]),class:"level-item button is-primary has-text-weight-bold"},h(d.value),9,Je),x(D,{class:"level-item",onSort:t})]),x(Q,{posts:o.value},null,8,["posts"])]),e("div",Xe,[x(Ie)])]))}});var Ze=M(Qe,[["__scopeId","data-v-c4d3f0c0"]]);const es={key:0},ss={class:"card is-shadowless"},ts={class:"card-header is-shadowless has-background-grey-lighter"},os={class:"card-header-title level-left p-3"},ns={class:"level-left tags"},is={class:"tag is-light is-success"},as={class:"tag is-light is-warning"},ls={class:"tag is-light is-danger"},cs={class:"tag is-light is-info"},rs={class:"message-body p-2"},ds={key:1,class:"box content m-5"},us=e("i",null,"There are no comments yet...",-1),vs=[us],Z=k({props:{comments:null},setup(n){return(o,s)=>n.comments.length>0?(v(),_("div",es,[(v(!0),_(U,null,T(n.comments,i=>{var a;return v(),_("div",{class:"block my-0",key:i.comment_id},[e("div",ss,[e("div",ts,[e("p",os,"u/"+h((a=i.user)==null?void 0:a.username),1),e("div",ns,[e("p",is,h(i.votes.upvotes),1),e("p",as,h(i.votes.misleading),1),e("p",ls,h(i.votes.downvotes),1),e("p",cs,h(C(j)(i.time)),1)])]),e("div",rs,[e("p",null,h(i.content),1)])])])}),128))])):(v(),_("div",ds,vs))}}),_s={class:"box m-2"},ms={class:"block"},ps={class:"title is-4 mb-2"},hs={class:"tags"},gs={class:"tag mb-1 mr-1 is-light is-primary"},fs={class:"tag mb-1 mr-1 is-light is-warning"},$s={class:"tag mb-1 mr-1 is-light is-danger"},bs={class:"tag mb-1 mr-1 is-light is-info"},ys={class:"tag mb-1 mr-1 is-light is-info"},ws={class:"tag mb-1 mr-1 is-light is-primary"},xs={class:"box py-5 my-5 has-background-light is-shadowless"},ks={key:0,class:"block"},Cs={key:0,class:"field is-grouped"},Ss={class:"buttons"},Ps={key:1,class:"fields"},Is={class:"field"},Ls={class:"control"},Ms={class:"field buttons is-grouped"},Us={class:"control"},Fs=["onClick"],Ts={key:1,class:"box has-background-danger has-text-weight-semibold"},Os=e("p",null,"You must be logged in to participate",-1),Rs=[Os],zs={class:"box m-2"},Ns=k({setup(n){const o=oe(),s=g(),i=g([]),a=g(""),r=g(!1),d=E(()=>b.state.session);function u(){r.value=!r.value}async function t(){var c,l,p,m;await L.post("https://doxforeverything.herokuapp.com/newComment",new URLSearchParams({user_id:b.getters.getSession.user.user_id,post_id:String((c=s.value)==null?void 0:c.post_id),reply_to:String((l=s.value)==null?void 0:l.post_id),content:a.value})),i.value.push({comment_id:0,user_id:b.getters.getSession.user.user_id,user:b.getters.getCurrentUser,post_id:Number((p=s.value)==null?void 0:p.post_id),reply_to:Number((m=s.value)==null?void 0:m.post_id),content:a.value,time:"",votes:{upvotes:1,misleading:0,downvotes:0,users:[]}}),u(),a.value=""}return K(async()=>{const c=await L.get(`https://doxforeverything.herokuapp.com/posts/${o.params.post_id}`);s.value=c.data;const l=await L.get(`https://doxforeverything.herokuapp.com/posts/${o.params.post_id}/comments`);i.value=l.data}),(c,l)=>{var p,m,$,S,y,z,N,W,G;return v(),_(U,null,[e("div",_s,[e("div",ms,[e("h2",ps,h((p=s.value)==null?void 0:p.title),1),e("div",hs,[e("p",gs,h((m=s.value)==null?void 0:m.votes.upvotes),1),e("p",fs,h(($=s.value)==null?void 0:$.votes.misleading),1),e("p",$s,h((S=s.value)==null?void 0:S.votes.downvotes),1),e("p",bs,h(C(j)((y=s.value)==null?void 0:y.time)),1),e("p",ys,"u/"+h((N=(z=s.value)==null?void 0:z.user)==null?void 0:N.username),1),(v(!0),_(U,null,T((W=s.value)==null?void 0:W.topics,Y=>(v(),_("p",ws,h(Y),1))),256))])]),e("div",xs,[e("p",null,h((G=s.value)==null?void 0:G.content),1)]),C(d).authenticated?(v(),_("div",ks,[r.value?V("",!0):(v(),_("div",Cs,[e("div",Ss,[e("button",{class:"button is-light is-primary",onClick:u},"Comment"),e("button",{class:"button is-light is-info",onClick:l[0]||(l[0]=()=>{})},"Share"),e("button",{class:"button is-light is-danger",onClick:l[1]||(l[1]=()=>{})},"Report")])])),r.value?(v(),_("form",Ps,[e("div",Is,[e("div",Ls,[P(e("textarea",{class:"textarea",rows:"5","onUpdate:modelValue":l[2]||(l[2]=Y=>a.value=Y)},null,512),[[I,a.value]])])]),e("div",Ms,[e("div",Us,[e("button",{class:"button is-primary",onClick:f(t,["prevent"])},"Submit",8,Fs),e("button",{class:"button is-danger",onClick:u},"Cancel")])])])):V("",!0)])):(v(),_("div",Ts,Rs))]),e("div",zs,[x(D),x(Z,{comments:i.value},null,8,["comments"])])],64)}}}),Vs={};function Bs(n,o){return v(),_("p",null,"404: page not found...")}var Ds=M(Vs,[["render",Bs]]);const As={};function qs(n,o){return v(),_("h1",null,"About!")}var Es=M(As,[["render",qs]]);const Hs={class:"control"},Ys={class:"tags has-addons"},Ks={class:"tag tag-content p-2 is-medium is-primary is-light"},js=k({props:{contents:null},emits:["submit","delete"],setup(n){return(o,s)=>(v(),_("div",Hs,[e("div",Ys,[e("div",Ks,h(n.contents),1),e("div",{class:"tag is-medium is-danger is-light is-delete",onClick:s[0]||(s[0]=f(i=>o.$emit("delete",n.contents),["prevent"]))})])]))}});var Ws=M(js,[["__scopeId","data-v-56ed16be"]]);const Gs={key:0,class:"box m-2 has-background-light"},Js={class:"field"},Xs={class:"control"},Qs=e("p",{class:"title is-3 mb-4"},"Title",-1),Zs={class:"field"},et={class:"control"},st=e("p",{class:"subtitle is-4 mb-2"},"Content",-1),tt={class:"field"},ot={class:"control"},nt=e("p",{class:"subtitle is-4 mb-2"},"Topics",-1),it={class:"field is-grouped is-grouped-multiline"},at=["onKeyup"],lt={class:"field"},ct={class:"control"},rt=["onClick"],dt={key:1,class:"box m-5"},ut=e("p",null,"You must create an account to post...",-1),vt=[ut],_t=k({setup(n){const o=E(()=>b.state.session),s=g(""),i=g(""),a=g(""),r=g([]),d=O("toggleModal");function u(){if(r.value.length>=5){d("You can only have 5 topics","Try to be more specific with which topics you choose.");return}r.value.push(a.value),a.value=""}function t(l){r.value.splice(r.value.indexOf(l),1)}async function c(){if(s.value==""||i.value==""){d("Fill in all of the boxes...","You must supply a title and some content. Don't forget to fill out both!");return}try{const l=await L.post("https://doxforeverything.herokuapp.com/newPost",new URLSearchParams({title:s.value,content:i.value,topics:JSON.stringify(r.value),user_id:b.getters.getSession.user.user_id}));console.log(l.data),F.push(`/posts/${l.data.post_id}`)}catch(l){console.log(l),d("Failed to upload post...")}}return(l,p)=>C(o).authenticated?(v(),_("div",Gs,[e("div",Js,[e("div",Xs,[Qs,P(e("input",{class:"input","onUpdate:modelValue":p[0]||(p[0]=m=>s.value=m)},null,512),[[I,s.value]])])]),e("div",Zs,[e("div",et,[st,P(e("textarea",{class:"textarea",rows:"8","onUpdate:modelValue":p[1]||(p[1]=m=>i.value=m)},null,512),[[I,i.value]])])]),e("div",tt,[e("div",ot,[nt,e("div",it,[(v(!0),_(U,null,T(r.value,m=>(v(),J(Ws,{contents:m,onDelete:t},null,8,["contents"]))),256))]),P(e("input",{type:"text",class:"input","onUpdate:modelValue":p[2]||(p[2]=m=>a.value=m),onKeyup:ne(u,["enter"])},null,40,at),[[I,a.value]])])]),e("div",lt,[e("div",ct,[e("button",{class:"button",onClick:f(c,["prevent"])},"Post",8,rt)])])])):(v(),_("div",dt,vt))}}),mt=k({setup(n){return(o,s)=>(v(),J(_t))}});const R=n=>(A("data-v-394c41e1"),n=n(),q(),n),pt={key:0},ht={class:"level box my-2 p-4 is-mobile"},gt={class:"level-left"},ft=R(()=>e("div",{class:"level-item"},[e("figure",{class:"image is-96x96"},[e("img",{src:"https://bulma.io/images/placeholders/96x96.png"})])],-1)),$t={class:"level-item"},bt={class:"title my-2"},yt={class:"box"},wt=R(()=>e("p",{class:"title"},"Topics",-1)),xt={class:"level"},kt={class:"tag"},Ct={class:"box my-2 p-4"},St=R(()=>e("p",{class:"title"},"Posts",-1)),Pt={class:"scrollable p-2"},It={class:"box my-2"},Lt=R(()=>e("p",{class:"title"},"Comments",-1)),Mt={class:"scrollable p-2"},Ut={key:1,class:"box m-5"},Ft=R(()=>e("p",null,"Not logged in.",-1)),Tt=[Ft],Ot=k({setup(n){const o=E(()=>b.state.session),s=g([]),i=g([]);K(async()=>{var t,c;const d=await L.get(`https://doxforeverything.herokuapp.com/users/${(t=o.value.user)==null?void 0:t.user_id}/posts`);s.value=d.data;const u=await L.get(`https://doxforeverything.herokuapp.com/users/${(c=o.value.user)==null?void 0:c.user_id}/comments`);i.value=u.data,a("top")});function a(d){s.value.sort((u,t)=>{if(d=="new"){const c=w.fromISO(u.time),l=w.fromISO(t.time);return c<l?1:-1}else if(d=="top"){const c=u.votes.upvotes-u.votes.downvotes-u.votes.misleading/2,l=t.votes.upvotes-t.votes.downvotes-t.votes.misleading/2;return c<l?1:-1}else if(d=="hot"){const c=w.now().diff(w.fromISO(u.time),"days").days,l=w.now().diff(w.fromISO(t.time),"days").days,p=(u.votes.upvotes-u.votes.downvotes-u.votes.misleading/2)/(c+1),m=(t.votes.upvotes-t.votes.downvotes-t.votes.misleading/2)/(l+1);return p<m?1:-1}else return 0})}function r(){}return(d,u)=>{var t,c,l;return C(o).authenticated?(v(),_("div",pt,[e("div",ht,[e("div",gt,[ft,e("div",$t,[e("div",null,[e("p",bt,h((t=C(o).user)==null?void 0:t.username),1),e("p",null,h((c=C(o).user)==null?void 0:c.email),1)])])])]),e("div",yt,[wt,e("div",xt,[(v(!0),_(U,null,T((l=C(o).user)==null?void 0:l.topics,p=>(v(),_("div",kt,h(p),1))),256))])]),e("div",Ct,[St,e("div",Pt,[x(D,{onSort:a}),x(Q,{posts:s.value},null,8,["posts"])])]),e("div",It,[Lt,e("div",Mt,[x(D,{onSort:r}),x(Z,{comments:i.value},null,8,["comments"])])])])):(v(),_("div",Ut,Tt))}}});var Rt=M(Ot,[["__scopeId","data-v-394c41e1"]]);const zt={class:"columns my-6 is-centered"},Nt={class:"column box p-6 is-5"},Vt={class:"field"},Bt=e("label",{class:"label"},"Email",-1),Dt={class:"control"},At={class:"field"},qt=e("label",{class:"label"},"Username",-1),Et={class:"control"},Ht={class:"field"},Yt=e("label",{class:"label"},"Password",-1),Kt={class:"control"},jt={class:"field"},Wt=e("label",{class:"label"},"Confirm Password",-1),Gt={class:"control"},Jt={class:"field columns is-centered is-grouped mt-6"},Xt={class:"control"},Qt=["onClick"],Zt=e("div",{class:"control"},[e("button",{class:"button is-danger"},"Cancel")],-1),eo={class:"control"},so=k({setup(n){const o=O("toggleModal"),s=g(""),i=g(""),a=g(""),r=g("");g(!0);async function d(){if(s.value==""||i.value==""||a.value==""||r.value==""){o("Please supply all fields to register.");return}if(a.value!=r.value){o("Passwords do not match.");return}try{const u=await L.post("https://doxforeverything.herokuapp.com/newUser",new URLSearchParams({email:s.value,username:i.value,password:await ie.hash(a.value,10)}))}catch{o("Failed to register user.");return}s.value="",i.value="",a.value="",r.value="",F.push("/")}return(u,t)=>(v(),_("div",zt,[e("form",Nt,[e("div",Vt,[Bt,e("div",Dt,[P(e("input",{class:"input",required:"",type:"text","onUpdate:modelValue":t[0]||(t[0]=c=>s.value=c)},null,512),[[I,s.value]])])]),e("div",At,[qt,e("div",Et,[P(e("input",{class:"input",required:"",type:"text","onUpdate:modelValue":t[1]||(t[1]=c=>i.value=c)},null,512),[[I,i.value]])])]),e("div",Ht,[Yt,e("div",Kt,[P(e("input",{class:"input",required:"",type:"password","onUpdate:modelValue":t[2]||(t[2]=c=>a.value=c)},null,512),[[I,a.value]])])]),e("div",jt,[Wt,e("div",Gt,[P(e("input",{class:"input",required:"",type:"password","onUpdate:modelValue":t[3]||(t[3]=c=>r.value=c)},null,512),[[I,r.value]])])]),e("div",Jt,[e("div",Xt,[e("button",{class:"button is-primary",onClick:f(d,["prevent"])},"Register",8,Qt)]),Zt,e("div",eo,[e("button",{class:"button is-warning",onClick:t[4]||(t[4]=f(c=>C(o)("Failed to do something...","Additional information about the issue","Buttons and stuff"),["prevent"]))},"Modal")])])])]))}}),F=ae({history:le(),routes:[{name:"Home",path:"/",component:Ze},{name:"About",path:"/about",component:Es},{name:"Post",path:"/posts/:post_id",component:Ns},{name:"Editor",path:"/editor",component:mt},{name:"Register",path:"/register",component:so},{name:"Profile",path:"/profile",component:Rt},{name:"404",path:"/*",component:Ds}]});const ee=n=>(A("data-v-11be5b94"),n=n(),q(),n),to=ee(()=>e("div",{class:"modal-background"},null,-1)),oo={class:"modal-content message is-info is-large mx-6"},no={class:"message-header"},io=ee(()=>e("p",null,"Login",-1)),ao={class:"message-body p-6"},lo={class:"fields px-6"},co={class:"field py-1"},ro={class:"control"},uo={class:"field py-1"},vo={class:"control"},_o={class:"field py-1 is-grouped is-grouped-centered"},mo={class:"control buttons"},po=k({props:{showLogin:{type:Boolean}},emits:["openLogin","closeLogin"],setup(n,{emit:o}){const s=g(""),i=g(""),a=O("toggleModal");async function r(){try{const d=await L.post("https://doxforeverything.herokuapp.com/authenticate",new URLSearchParams({username:s.value,password:i.value}));b.commit("login",d.data),s.value="",i.value="",o("closeLogin"),F.push("/")}catch(d){console.log(d),a("Failed to login...","Double check you typed in your username and password correctly")}}return(d,u)=>(v(),_("div",{class:B(["modal",{"is-active":n.showLogin}])},[to,e("div",oo,[e("div",no,[io,e("button",{class:"delete",onClick:u[0]||(u[0]=f(t=>d.$emit("closeLogin"),["prevent"]))})]),e("div",ao,[e("form",lo,[e("div",co,[e("div",ro,[P(e("input",{class:"input is-medium",type:"username",placeholder:"username","onUpdate:modelValue":u[1]||(u[1]=t=>s.value=t),required:""},null,512),[[I,s.value]])])]),e("div",uo,[e("div",vo,[P(e("input",{class:"input is-medium",type:"password",placeholder:"password","onUpdate:modelValue":u[2]||(u[2]=t=>i.value=t),required:""},null,512),[[I,i.value]])])]),e("div",_o,[e("div",mo,[e("button",{type:"submit",class:"button is-medium is-primary",onClick:u[3]||(u[3]=f(t=>r(),["prevent"]))},"Login"),e("button",{class:"button is-medium is-danger",onClick:u[4]||(u[4]=f(t=>d.$emit("closeLogin"),["prevent"]))},"Cancel")])])])])])],2))}});var ho=M(po,[["__scopeId","data-v-11be5b94"]]);const H=n=>(A("data-v-38395a4e"),n=n(),q(),n),go={class:"navbar has-background-primary"},fo={class:"navbar-brand"},$o=re("DOX "),bo=H(()=>e("p",{class:"navbar-item is-size-4 has-text-weight-semibold pl-0"},"For Everything",-1)),yo=["onClick"],wo=H(()=>e("span",{"aria-hidden":"true"},null,-1)),xo=H(()=>e("span",{"aria-hidden":"true"},null,-1)),ko=H(()=>e("span",{"aria-hidden":"true"},null,-1)),Co=[wo,xo,ko],So={key:0,class:"navbar-end"},Po=["onClick"],Io={key:1,class:"navbar-end"},Lo=["onClick"],Mo=k({setup(n){const o=E(()=>b.state.session),s=g(!1),i=g(!1);function a(){i.value=!i.value}function r(){s.value=!s.value}function d(t){s.value=!1,F.push(t)}function u(){b.commit("logout"),F.push("/")}return(t,c)=>{var p;const l=X("router-link");return v(),_(U,null,[x(ho,{"show-login":i.value,onCloseLogin:a},null,8,["show-login"]),e("nav",go,[e("div",fo,[x(l,{to:"/",class:"navbar-item my-auto is-size-2 has-text-weight-bold has-text-dark"},{default:ce(()=>[$o]),_:1}),bo,e("div",{class:B(["navbar-burger button m-3 ml-auto",{"is-active":s.value}]),onClick:f(r,["prevent"])},Co,10,yo)]),e("div",{class:B(["navbar-menu p-1",{"is-active":s.value}])},[C(o).authenticated?(v(),_("div",Io,[e("a",{class:"navbar-item is-size-5 has-text-weight-semibold",onClick:c[2]||(c[2]=f(m=>d("/"),["prevent"]))},"Home"),e("a",{class:"navbar-item is-size-5 has-text-weight-semibold",onClick:c[3]||(c[3]=f(m=>d("/editor"),["prevent"]))},"Post"),e("a",{class:"navbar-item is-size-5 has-text-weight-semibold",onClick:c[4]||(c[4]=f(m=>d("/profile"),["prevent"]))},"Profile - "+h((p=C(o).user)==null?void 0:p.username),1),e("a",{class:"navbar-item is-size-5 has-text-weight-semibold",onClick:f(u,["prevent"])},"Logout",8,Lo)])):(v(),_("div",So,[e("a",{class:"navbar-item is-size-5 has-text-weight-semibold",onClick:c[0]||(c[0]=f(m=>d("/"),["prevent"]))},"Home"),e("a",{class:"navbar-item is-size-5 has-text-weight-semibold",onClick:f(a,["prevent"])},"Login",8,Po),e("a",{class:"navbar-item is-size-5 has-text-weight-semibold",onClick:c[1]||(c[1]=f(m=>d("/register"),["prevent"]))},"Register")]))],2)])],64)}}});var Uo=M(Mo,[["__scopeId","data-v-38395a4e"]]);const Fo={class:"has-background-light"},To={class:"container"},Oo=k({setup(n){const o=g(!1),s=g(""),i=g(""),a=g("");function r(d,u,t){d&&(s.value=d),u&&(i.value=u),t&&(a.value=t),o.value=!o.value}return de("toggleModal",r),(d,u)=>{const t=X("router-view");return v(),_("div",Fo,[x(Uo),e("div",To,[x(t)]),x($e,{"show-modal":o.value,"modal-title":s.value,"modal-content":i.value,"modal-footer":a.value,onToggleModal:r},null,8,["show-modal","modal-title","modal-content","modal-footer"])])}}});ue(Oo).use(F).use(b).mount("#app");
